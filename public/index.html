<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="皮皮熊的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="皮皮熊的博客">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="皮皮熊的博客">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> 皮皮熊的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">皮皮熊的博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about.html" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/19/Android-Studio：Gradle常用命令/" itemprop="url">
                  Android Studio：Gradle常用命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-19T15:33:51+08:00" content="2016-07-19">
              2016-07-19
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/19/Android-Studio：Gradle常用命令/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/19/Android-Studio：Gradle常用命令/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Android Studio中自带Terminal，可以直接使用gradle命令，不必另开命令窗口，相当方便，下面总结一下常用的命令：</p>
<ul>
<li><p>1.查看Gradle版本号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.清除app目录下的build文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew clean</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.检查依赖并编译打包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew build</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.编译并打Debug包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew assembleDebug</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.编译并打Release包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew assembleRelease</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.结合productFlavors可以编译指定Flavor的debug或release版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./gradlew assembleFlavor     </span><br><span class="line">./gradlew assembleFlavorDebug</span><br><span class="line">./gradlew assembleFlavorRelease</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a href="http://ckj375.github.io/2016/07/19/Android-Studio%EF%BC%9AGradle%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" target="_blank" rel="external">阅读原文</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/15/Ubuntu下安装配置zsh和oh-my-zsh/" itemprop="url">
                  Ubuntu下安装配置zsh和oh my zsh
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-15T17:09:36+08:00" content="2016-07-15">
              2016-07-15
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/15/Ubuntu下安装配置zsh和oh-my-zsh/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/15/Ubuntu下安装配置zsh和oh-my-zsh/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="zsh优势：自动补全功能强大和很高的可配置性"><a href="#zsh优势：自动补全功能强大和很高的可配置性" class="headerlink" title="zsh优势：自动补全功能强大和很高的可配置性"></a>zsh优势：自动补全功能强大和很高的可配置性</h2><ol>
<li>查看当前系统装了哪些shell<br>cat /etc/shells</li>
<li>当前正在运行的是哪个版本的shell<br>echo $SHELL</li>
<li>安装zsh<br>sudo apt-get zsh</li>
<li>切换zsh<br>chsh -s /bin/bash(非实时，需重启)</li>
<li>安装oh my zsh<br>wget –no-check-certificate <a href="https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh" target="_blank" rel="external">https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh</a> -O - | sh</li>
<li><p>设置zsh的参数<br>安装完zsh后，在home目录下会有一个名为.zshrc的隐藏文件，可以根据个人习惯配置zsh的参数<br>oh my zsh 在安装时已经自动读取当前的环境变量并进行了设置，你可以继续追加其他环境变量</p>
<p>oh my zsh各式各样的主题预览：<a href="https://github.com/robbyrussell/oh-my-zsh/wiki/themes" target="_blank" rel="external">https://github.com/robbyrussell/oh-my-zsh/wiki/themes</a></p>
<p><a href="http://ckj375.github.io/2016/07/15/Ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEzsh%E5%92%8Coh-my-zsh/" target="_blank" rel="external">阅读原文</a></p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/Android内存泄露总结/" itemprop="url">
                  Android内存泄露总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-10T08:54:32+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/Android内存泄露总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/Android内存泄露总结/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>　　不少人认为JAVA程序，因为有垃圾回收机制，应该没有内存泄露。<br>其实如果我们一个程序中，已经不再使用某个对象，但是因为仍然有引用指向它，垃圾回收器就无法回收它，当然该对象占用的内存就无法被使用，这就造成了内存泄露。如果我们的java运行很久,而这种内存泄露不断的发生，最后就没内存可用了。当然java的，内存泄漏和C/C++是不一样的。如果java程序完全结束后，它所有的对象就都不可达了，系统就可以对他们进行垃圾回收，它的内存泄露仅仅限于它本身，而不会影响整个系统的。C/C++的内存泄露就比较糟糕了，它的内存泄露是系统级，即使该C/C++程序退出，它的泄露的内存也无法被系统回收，永远不可用了，除非重启机器。<br>　　Android的一个应用程序的内存泄露对别的应用程序影响不大。为了能够使得Android应用程序安全且快速的运行，Android的每个应用程序都会使用一个专有的Dalvik虚拟机实例来运行，它是由Zygote服务进程孵化出来的，也就是说每个应用程序都是在属于自己的进程中运行的。Android为不同类型的进程分配了不同的内存使用上限，如果程序在运行过程中出现了内存泄漏的而造成应用进程使用的内存超过了这个上限，则会被系统视为内存泄漏，从而被kill掉，这使得仅仅自己的进程被kill掉，而不会影响其他进程（如果是system_process等系统进程出问题的话，则会引起系统重启）。</p>
<h2 id="一-内存泄漏常见原因"><a href="#一-内存泄漏常见原因" class="headerlink" title="一.内存泄漏常见原因"></a>一.内存泄漏常见原因</h2><ul>
<li>1.查询数据库没有关闭游标</li>
<li>2.构造 Adapter时，没有使用缓存的convertView</li>
<li>3.Bitmap对象不在使用时调用recycle()释放内存</li>
<li>4.释放对象的引用</li>
</ul>
<h2 id="二-内存泄漏检测方法"><a href="#二-内存泄漏检测方法" class="headerlink" title="二.内存泄漏检测方法"></a>二.内存泄漏检测方法</h2><p>检测工具：</p>
<ul>
<li>1.Android Studio</li>
<li>2.adb命令<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys meminfo 包名</span><br><span class="line">adb shell dumpsys meminfo -oom 查看当前手机所有进程的内存消耗情况</span><br><span class="line">adb shell top|grep 包名</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>测试方法：</p>
<ul>
<li>1.手动随机测试或指定路径压力测试    </li>
<li>2.利用第三方工具进行制定路径压力测试：按键精灵  </li>
<li>3.monkey测试：adb shell monkey -p com.fineos.camera -v 500  （发送500条伪随机事件）</li>
</ul>
<p>以Android Studio为例：<br>1.打开应用，不做任何操作时的内存占用<br>2.操作一段时间后，内存占用不断上升<br>3.停止操作，静置一段时间，内存仍未被释放<br>4.手动调用一次GC后，点击dump java heap按钮<br>5.dump成功后会自动打开hprof文件,这个文件会保存在项目根目录下的captures文件夹中，由于Android studio自带的界面查找内存泄漏不是很智能，所以建议使用第三方工具MAT，由于MAT不识别此文件，需右键Export to standard .hprof，然后用MAT打开导出的hprof(File-&gt;Open heap dump)</p>
<h2 id="三-内存分析工具-MAT"><a href="#三-内存分析工具-MAT" class="headerlink" title="三.内存分析工具 MAT"></a>三.内存分析工具 MAT</h2><p>　　如果使用检测工具确实发现了我们的程序中存在内存泄漏，那又如何定位到具体出现问题的代码片段，最终找到问题所在呢？如果从头到尾的分析代码逻辑，那肯定会把人逼疯，特别是在维护别人写的代码的时候。这里介绍一个极好的内存分析工具 – Memory Analyzer Tool(MAT) 。<br>　　MAT 是一个 Eclipse 插件，同时也有单独的RCP 客户端。官方下载地址、 MAT 介绍和详细的使用教程请参见：www.eclipse.org/mat，在此不进行说明了。另外在 MAT 安装后的帮助文档里也有完备的使用教程。在此仅举例说明其使用方法。我自己使用的是 MAT 的 eclipse 插件，使用插件要比RCP 稍微方便一些。  </p>
<p>使用MAT 进行内存分析需要几个步骤，包括：生成 .hprof 文件、打开MAT 并导入.hprof文件、使用 MAT 的视图工具分析内存。<br>(a) 生成.hprof文件<br>(b) 使用 MAT导入.hprof文件  </p>
<ul>
<li>1 如果是 eclipse 自动生成的.hprof 文件，可以使用 MAT 插件直接打开（可能是比较新的 ADT才支持）；</li>
<li>2 如果eclipse 自动生成的 .hprof 文件不能被MAT 直接打开， 或者是使用 android.os.Debug.dumpHprofData()方法手动生成的.hprof 文件，则需要将 .hprof 文件进行转换，转换的方法：<br>例如我将 .hprof 文件拷贝到PC 上的/ANDROID_SDK/tools 目录下，并输入命令 hprofconv xxx.hprof yyy.hprof，其中xxx.hprof 为原始文件， yyy.hprof 为转换过后的文件。转换过后的文件自动放在 /ANDROID_SDK/tools 目录下。OK ，到此为止， .hprof 文件处理完毕，可以用来分析内存泄露情况了。</li>
<li>3 在Eclipse 中点击Windows-&gt;Open Perspective-&gt;Other-&gt;Memory Analyzer，或者打Memory Analyzer Tool 的RCP。在 MAT 中点击 File-&gt;Open File，浏览并导入刚刚转换而得到的 .hprof文件。  </li>
</ul>
<p>(c) 使用 MAT的视图工具分析内存<br>导入.hprof 文件以后， MAT 会自动解析并生成报告，点击 Dominator Tree，并按Package 分组，选择自己所定义的 Package 类点右键，在弹出菜单中选择 List objects-&gt;With incoming<br>references。这时会列出所有可疑类，右键点击某一项，并选择 Path to GC Roots -&gt; exclude weak/soft references，会进一步筛选出跟程序相关的所有有内存泄露的类。据此，可以追踪到代码中的某一个产生泄露的类。  </p>
<p>具体的分析方法在此不做说明了，因为在 MAT 的官方网站和客户端的帮助文档中有十分详尽的介绍。<br>了解MAT 中各个视图的作用很重要，例如 www.eclipse.org/mat/about/screenshots.php 中介绍的。<br>总之使用 MAT 分析内存查找内存泄漏的根本思路，就是找到哪个类的对象的引用没有被释放，找到没有被释放的原因，也就可以很容易定位代码中的哪些片段的逻辑有问题了。</p>
<h2 id="四-第三方开源库LeakCanary"><a href="#四-第三方开源库LeakCanary" class="headerlink" title="四.第三方开源库LeakCanary"></a>四.第三方开源库LeakCanary</h2><p>LeakCanary是一个开源的检测内存泄露的java库。<br>如何集成LeakCanary?<br>In your build.gradle:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">  debugCompile &apos;com.squareup.leakcanary:leakcanary-android:1.4-beta2&apos;</span><br><span class="line">  releaseCompile &apos;com.squareup.leakcanary:leakcanary-android-no-op:1.4-beta2&apos;</span><br><span class="line">  testCompile &apos;com.squareup.leakcanary:leakcanary-android-no-op:1.4-beta2&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>In your Application class:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class ExampleApplication extends Application &#123;</span><br><span class="line"></span><br><span class="line">  @Override public void onCreate() &#123;</span><br><span class="line">  super.onCreate();</span><br><span class="line">  LeakCanary.install(this);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>加入上述代码后，在你的debug版本中如果Activity有内存泄漏，通知栏会自动弹出内存泄漏通知。</p>
<p>更详细的使用教程可以去Github搜LeakCanary：<a href="https://github.com/square/leakcanary/wiki/FAQ" target="_blank" rel="external">https://github.com/square/leakcanary/wiki/FAQ</a></p>
<h2 id="五-内存泄漏总结"><a href="#五-内存泄漏总结" class="headerlink" title="五.内存泄漏总结"></a>五.内存泄漏总结</h2><p>通过对比MAT和LeakCanary发现，LeakCanary可以很方便的检测出内存泄露的路径，尤其是Context的泄漏，但是对于某些自定义的类或对象，需手动监听，项目初期集成LeakCanary会避免很多内存泄露的情形；<br>而MAT则主要列出可疑的类及对象，不能精确定位，需对项目代码熟悉才行。</p>
<p><a href="http://ckj375.github.io/2016/05/10/Android%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%E6%80%BB%E7%BB%93/" target="_blank" rel="external">阅读原文</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/16/Github上搭建Hexo博客/" itemprop="url">
                  Github Pages上搭建Hexo博客
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-16T11:22:55+08:00" content="2016-03-16">
              2016-03-16
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/16/Github上搭建Hexo博客/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/16/Github上搭建Hexo博客/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="安装Git和NodeJs"><a href="#安装Git和NodeJs" class="headerlink" title="安装Git和NodeJs"></a>安装Git和NodeJs</h2><h2 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h2><ul>
<li>去github上创建仓库，name.github.io,示例：ckj375.github.io</li>
<li>创建2个分支：master和hexo，并设置hexo为默认分支，hexo分支用于存放网站原始文件，master分支用于存放生成的静态网页。</li>
<li><p>克隆代码仓  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/ckj375/ckj375.github.io.git</span><br></pre></td></tr></table></figure>
</li>
<li><p>进入目录，依次执行以下命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo init  </span><br><span class="line">npm install  </span><br><span class="line">npm install hexo-deployer-git --save  </span><br><span class="line">hexo generate  </span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开本地浏览器按照提示输入url即可访问本地博客了,若提示找不到hexo server这条指令,输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -server --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改_config.yml中的deploy参数（注意冒号后面要加空格）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:  </span><br><span class="line">    type: git  </span><br><span class="line">    repo: https://github.com/ckj375/ckj375.github.io.git  </span><br><span class="line">    branch: master</span><br></pre></td></tr></table></figure>
</li>
<li><p>网站作者和标题：修改站点配置文件_config.yml的author和title字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">author: chenkaijian</span><br><span class="line">title: 皮皮熊的博客</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过Git将网站原始文件提交至hexo分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push origin hexo</span><br><span class="line">hexo generate 生成网站</span><br><span class="line">hexo deploy 将网站部署到github的master（前面已经在站点配置文件_config.yml中配置deploy参数）</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>浏览器打开<a href="http://ckj375.github.io/即可查看效果了" target="_blank" rel="external">http://ckj375.github.io/即可查看效果了</a></p>
<h2 id="hexo常用命令"><a href="#hexo常用命令" class="headerlink" title="hexo常用命令"></a>hexo常用命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hexo help #查看帮助  </span><br><span class="line">hexo init #初始化一个目录  </span><br><span class="line">hexo new &quot;postName&quot; #新建文章  </span><br><span class="line">hexo new page &quot;pageName&quot; #新建页面  </span><br><span class="line">hexo generate #生成网页，可以在 public 目录查看整个网站的文件  </span><br><span class="line">hexo server #本地预览  </span><br><span class="line">hexo deploy #部署.deploy目录  </span><br><span class="line">hexo clean #清除缓存，建议每次执行命令前先清理缓存，每次部署前先删除 .deploy 文件夹</span><br></pre></td></tr></table></figure>
<p>简写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo n == hexo new  </span><br><span class="line">hexo g == hexo generate  </span><br><span class="line">hexo s == hexo server  </span><br><span class="line">hexo d == hexo deploy</span><br></pre></td></tr></table></figure></p>
<h2 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h2><p>个人比较喜欢简约风的主题，所以选了Next主题<br>进入仓库根目录克隆最新版本的next主题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></p>
<p>修改仓库根目录下的_config.yml配置项theme<br>theme: next</p>
<p><strong>选择Scheme</strong><br>Scheme是Next提供的一种特性，借助于Scheme，NexT为你提供多种不同的外观。目前Next支持三种Scheme:</p>
<ul>
<li>Muse - 默认Scheme，这是Next最初的版本，黑白主调，大量留白</li>
<li>Mist - Muse的紧凑版本，整洁有序的单栏外观</li>
<li>Pisces - 双栏Scheme，小家碧玉似的清新<br>修改主题目录下的_config.yml配置文件<br>scheme: Mist</li>
</ul>
<p><strong>设置语言</strong><br>编辑站点配置文件，将language设置成你所需要的语言。建议明确设置你所需要的语言，例如选用简体中文，配置如下：language: zh-Hans</p>
<p><strong>设置菜单</strong><br>菜单配置包括两个部分，第一是菜单项（名称和链接），第二是菜单项的显示文本，第三是菜单项对应的图标。<br>打开主题配置文件根据需要自行配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Menu Settings</span><br><span class="line">menu:</span><br><span class="line">  home: /</span><br><span class="line">  #categories: /categories</span><br><span class="line">  #about: /about</span><br><span class="line">  archives: /archives</span><br><span class="line">  tags: /tags</span><br><span class="line">  #commonweal: /404.html</span><br></pre></td></tr></table></figure></p>
<p><strong>设置头像</strong><br>放置在 source/images/ 目录下<br>配置为：avatar: /images/avatar.png</p>
<h2 id="集成第三方服务"><a href="#集成第三方服务" class="headerlink" title="集成第三方服务"></a>集成第三方服务</h2><p><strong>多说评论</strong><br>首页选择我要安装，创建站点信息。多说域名这一栏即是你的多说域名，示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ckj375.duoshuo.com</span><br></pre></td></tr></table></figure></p>
<p>在站点配置文件中新增duoshuo_shortname字段<br>duoshuo_shortname: ckj375</p>
<p><strong>Cnzz统计</strong><br>注册账号创建站点，进入统计代码页面，有多种统计样式可供选择。<br>示例：在themes/next/layout/_partials/目录下新建cnzz_tongji.swig，添加以下代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.cnzz)&#123; %&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;var cnzz_protocol = ((&quot;https:&quot; == document.location.protocol) ? &quot; https://&quot; : &quot; http://&quot;);document.write(unescape(&quot;%3Cspan id=&apos;cnzz_stat_icon_1257888989&apos;%3E%3C/span%3E%3Cscript src=&apos;&quot; + cnzz_protocol + &quot;s4.cnzz.com/z_stat.php%3Fid%3D1257888989%26online%3D2&apos; type=&apos;text/javascript&apos;%3E%3C/script%3E&quot;));&lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></p>
<p>js部分可换成自己想要的样式,<br>在footer.swig中新增以下代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;analytics&quot;&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;var cnzz_protocol = ((&quot;https:&quot; == document.location.protocol) ? &quot; https://&quot; : &quot; http://&quot;);document.write(unescape(&quot;%3Cspan id=&apos;cnzz_stat_icon_1257888989&apos;%3E%3C/span%3E%3Cscript src=&apos;&quot; + cnzz_protocol + &quot;s4.cnzz.com/z_stat.php%3Fid%3D1257888989%26online%3D2&apos; type=&apos;text/javascript&apos;%3E%3C/script%3E&quot;));&lt;/script&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>同样js部分可自行替换<br>在主题配置文件中启用cnzz统计<br>cnzz_tongji: true</p>
<h2 id="编辑文章"><a href="#编辑文章" class="headerlink" title="编辑文章"></a>编辑文章</h2><p>新建文章<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;标题&quot;</span><br></pre></td></tr></table></figure></p>
<p>在 _posts 目录下会生成文件标题.md</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Github Pages上搭建Hexo博客</span><br><span class="line">date: 2016-03-16 11:22:55</span><br><span class="line">tags:</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>接下来就用markdown尽情书写吧！</p>
<p><a href="http://ckj375.github.io/2016/03/16/Github%E4%B8%8A%E6%90%AD%E5%BB%BAHexo%E5%8D%9A%E5%AE%A2/" target="_blank" rel="external">阅读原文</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="chenkaijian" />
          <p class="site-author-name" itemprop="name">chenkaijian</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        <div class="links-of-blogroll motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chenkaijian</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

<div class="analytics">
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1257888989'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1257888989%26online%3D2' type='text/javascript'%3E%3C/script%3E"));</script>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"ckj375"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  

  


</body>
</html>
